<!DOCTYPE html>
<html lang="en"><head>
<script src="lmf_pres_files/libs/clipboard/clipboard.min.js"></script>
<script src="lmf_pres_files/libs/quarto-html/tabby.min.js"></script>
<script src="lmf_pres_files/libs/quarto-html/popper.min.js"></script>
<script src="lmf_pres_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="lmf_pres_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="lmf_pres_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="lmf_pres_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.1.251">

  <meta name="author" content="Luis Morís Fernández">
  <title>Reproducible analysis pipelines using containers and data exploration using R/Shiny</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="lmf_pres_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="lmf_pres_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="lmf_pres_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link rel="stylesheet" href="styles.css">
  <link href="lmf_pres_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="lmf_pres_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="lmf_pres_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="lmf_pres_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="lmf_pres_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="lmf_pres_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">Reproducible analysis pipelines using containers and data exploration using R/Shiny</h1>
  <p class="subtitle">Máster en bioinformática y bioestadística</p>
  <p class="author">Luis Morís Fernández</p>
</section>

<section>
<section id="the-reproducibility-problem" class="title-slide slide level1 center">
<h1>The reproducibility problem</h1>
<aside class="notes">
<p>In this first section I will present the context and motivation of this work which is the problem of reproducibility in scientific research. Reproducibility is one of the cornerstones of scientific research, nonetheless it is commonly forgotten and usually shadowed by the novelty or alleged impact of the results of a study.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:65%;">
<blockquote>
<p><span style="font-size:2rem;">“Only when certain events recur in accordance with rules or regularities, as is the case with repeatable experiments, can our observations be tested — in principle — by anyone. We do not take even our own observations quite seriously, or accept them as scientific observations, until we have repeated and tested them. Only by such repetitions can we convince ourselves that we are not dealing with a mere isolated ‘coincidence’[…]”</span></p>
<p><span style="font-size:1.5rem;">— Karl R. Popper. <em>The Logic of Scientific Discovery</em> (1959)</span></p>
</blockquote>
</div><div class="column" style="width:35%;">
<p><img data-src="images/Karl_Popper.jpg"></p>
</div>
</div>
<aside class="notes">
<p>Already in 1959 Karl Popper stated in this quote that until our observations are reproduced we should not take them seriously or accept them as scientific observations. But even with such a clear statement done more than 60 years ago by one of the most influential personalities in the philosophy of science in the last century, reproducibility is far from achieved and is still a topic of debate in almost every field in science.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="reproducibility-project-cancer-biology" class="slide level2">
<h2><span style="font-size:3.5rem;">Reproducibility Project: Cancer Biology</span></h2>

<img data-src="images/e-life_repro.jpg" class="r-stretch"><div style="margin-left:auto;margin-right:0;">
<p>Extracted from (Errington, Mathur, et al.&nbsp;2021)</p>
</div>
<aside class="notes">
<p>Proof of this problem is the inmense work made in the Reproducibility Project in cancer biology. In this project authors attempted to reproduce the results of 50 different experiments in 23 different papers. One of the most representative results of this study is the graph shown in the slide, the x asis represents the original effect size of the study while the y axis represent the effect size in the replication. The graph on the right is a zoomed version of the the studies with effect size lower than five. The ideal result in this graph would be to have most of the points along the diagonal of the graph, meaning that the effect sizes in the original study and the replication study were the same. Unfortunately, most of the points are scattered along the value 0 in the y axis. Meaning that it was not possible to replicate the results of the original studies. IN fact authors found a suprisingly low reproducibility rate of about 40% for those studies with positive effects.</p>
<p>But, reproduciblity can be adressed at more levels than reproducing results in independent experiments. Being one of its most basic levels reproducing the results of an study useing the same data and analysis procedure.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="authors-provide-all-the-necessary-data-and-the-computer-codes-to-run-the-analysis-again-re-creating-the-results" class="slide level2">
<h2>«Authors provide all the necessary data and the computer codes to run the analysis again, re-creating the results»</h2>
<p>(Barba, 2018)</p>
<aside class="notes">
<p>In this work we will address reproducibility as defined by Barba in 2018.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-open-policy-data-example" class="slide level2">
<h2>The open policy data example</h2>

<img data-src="images/Hardwicke_1.png" class="r-stretch"><div style="margin-left:auto;margin-right:0;">
<p>Extracted from (Hardwicke et al.&nbsp;2018)</p>
</div>
<div class="fragment">
<p><strong>Most papers were less than 2 months old!</strong></p>
</div>
<div class="fragment">
<p>What about older papers?</p>
<aside class="notes">
<p>In 2018 Tom Hardwicke and other examined the effect of an open data policy in the journal Cognition. Within the scope of this work the authors evaluated how often they could reproduce the results of the original papers using the description found in the manuscript and the data provided by the authors. Suprisingly, in 69% of the assesments at least one error was found, albeit most of them were resolved once the authors were contacted. (PAUSE) Although this may seem like a satisfactory result, in fact authors were still very familiar with the analysis and results as papers were only, at most, two months old. One then can only ask themselves what would be the result of the study if papers were older. Would authors remember the exact nature of the analysis and be able to reproduce their results?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="reproducibility-pioneers" class="slide level2">
<h2>Reproducibility pioneers</h2>
<blockquote>
<p>An article should be considered an «advertising» and that the full research work is «the complete software development environment and the complete set of instructions that generated the figures»</p>
<p><span style="font-size:1.5rem;">— Morís Fernández paraphrasing Buckeit and Donoho paraphrasing Claerbout &amp; Karrenback</span></p>
</blockquote>
<aside class="notes">
<p>Attempts to solve this problem has been under discussion for more than 30 years, already the pioneers Claerbout &amp; Karrenback highlighted the need of reproducing the results and not only to write a manuscript, but to include the the ‘complete software development environment and the complete set of instructions that generated the figures’. At the moment their solution involved using CD-ROMS, magnetical tapes and the (and still in use) makefile tool. In this work it is illustrated how to use current tools, workflow manager, specifically targets and light virtualization tools, specifically Docker to ameliorate this problem of reproducibility in the field of bioinformatics.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="workflow-managers" class="slide level2">
<h2>Workflow managers</h2>

<img data-src="images/wratten_1.png" class="r-stretch"><div style="margin-left:auto;margin-right:0;">
<p>Extracted from (Wratten et al.&nbsp;2021)</p>
</div>
<aside class="notes">
<p>Workflow managers can be found nowadays in many different flavors as described by Wratten and others, from very generic tools applicable in almost any domain such as Apache Airflow to those focused on scientific analysis, such as Scipipe or targets or even those specific to the bioninformatics field such as Galaxy and KNIME. The different workflow managers also differ in its features, for example from those built and used usually around a Graphical user interface but with maybe a limited expresiveness ,to those code-based less focused on usability and more in achieving a powerful and expressive tool. In the following slides we will describe the rational followed to select targets workflow manager for this work.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="why-targets" class="slide level2">
<h2>Why targets?</h2>
<div class="columns">
<div class="column" style="width:30%;">
<p><img data-src="images/R_logo.svg.png"></p>
</div><div class="column" style="width:70%;">
<div style="margin-left:auto; margin-right:0;float: right;">
<p><img data-src="images/bioconductor_logo_rgb.png"></p>
</div>
</div>
</div>
<aside class="notes">
<p>The first valuable feature is that this workflow manager is written in R. R (R Core Team 2022) is one of the most common languages used in bioinformatics and data analysis in general (Giorgi, Ceraolo, and Mercatelli 2022). And Bioconductor, also R-based is one of the main repositories for the analysis of biological data. Therefore using targets allows using all the tools available in Bioconductor directly in our pipeline. Also, given the prevalence of R in bioinformatics, and other data science fields, many users will already be familiar with the language itself. For users already familiar with R, targets itself brings a small learning overhead.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="why-targets-1" class="slide level2">
<h2>Why targets?</h2>
<ul>
<li>Automatic tracking of dependencies</li>
</ul>

<img data-src="images/DAG.png" class="r-stretch"><aside class="notes">
<p>targets package by design also automatically keeps track of the dependencies in the different pipeline steps, therefore, when the pipeline is modified and rerun many time consuming calculations are skipped if the modifications do not affect them. This is particularly beneficial in the case of bioinformatics given that many of the data analysis steps include long computations. This dependency tracking also makes the pipeline easily reproducible as it guarantees that no invalid information is used and the results will be consistent when running the pipeline.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="why-targets-2" class="slide level2">
<h2>Why targets?</h2>
<ul>
<li><p>Handles paralellization with minor configuration</p></li>
<li><p>Easily managed in control version systems</p></li>
<li><p>General purpose and decoupled from bioinformatic packages</p></li>
</ul>
<aside class="notes">
<p>Regarding scalability, targets is prepared to run single-threaded, locally in parallel or in high-performance computing environments with just simple changes in the declaration of the pipeline. As all the content in targets pipelines consist of text files this makes the pipelines defined using targets ideal for versioning control systems (e.g.: git). Another advantage is that targets is a general purpose solution, offering a very concrete functionality and is highly decoupled, from a software perspective, from the packages offering the analysis functionality, this means that changes in those packages can be incorporated in our pipelines without waiting for any update in targets itself.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="issues-with-targets" class="slide level2">
<h2>Issues with targets?</h2>
<ul>
<li><p>Code based, not ideal for all users</p></li>
<li><p>Focused in R</p></li>
</ul>
<div class="fragment">
<ul>
<li>No control of versions or the environment</li>
</ul>
</div>
<div class="fragment">
<p><img data-src="images/Docker-Logo-768x432.jpg"></p>
<aside class="notes">
<p>Nonetheless, targets does have some shortcomings. The fact that it is a code-based solution, is not ideal for users with no, or few, programming experience. In those cases other solutions such as Galaxy or KNIME maybe more attractive and offer a more smooth learning curve. Although, R has interfaces with Python and can call any other language using system calls, other packages have more straightforward approaches to include tools and scripts programmed in other languages. For example, Nextflow allows calling any scripting language in the same pipeline with almost no overhead. (PAUSE) Finally, one substantial difference with other more complex workflow managers is that targets does not keep track or controls the version of software or the environment where the pipeline is executed. This can be easily overcome by using complimentary R packages that control the versions in the R library such as renv (PAUSE), or using Docker as is the case of this work.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="the-dependency-hell-and-rotting-software-problem" class="slide level2">
<h2><span style="font-size:3rem;">The dependency hell and rotting software problem</span></h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/1%20mHrDuetdLskvNHYucD9u3g.png"></p>
<div style="margin-left:auto; margin-right:0;float: right; font-size:1.5rem">
<p>From: https://xkcd.com/1987/</p>
</div>
</div><div class="column" style="width:50%;">
<div style="font-size:1.75rem">
<blockquote>
<p>“Software rot […] is either a slow deterioration of software quality over time […] that will eventually lead to software becoming faulty, unusable, or in need of upgrade. This is not a physical phenomenon: the software does not actually decay, but rather suffers from a lack of being responsive and updated <strong>with respect to the changing environment in which it resides</strong>.”</p>
<p>— https://en.wikipedia.org/wiki/Software_rot</p>
</blockquote>
</div>
</div>
</div>
<aside class="notes">
<p>Controlling the executing environment of a software has been a challenging task for many years as humurously described by this XKCD cartoon. Software developers and system administrators coined the term «Dependency Hell» to describe the common situation in which a «Software A» depended on a given version of a library while «Software B» depended on a different version of the same library creating a complicated situation for installing «Software A» and «Software B» in the same environment. This situation was particularly troubling when installing «Software B» automatically updated the required library making «Software A» in the best case unusable or in the worst case silently providing erroneous outputs. Software rotting is a related problem in which a software becomes faulty and unusable with time, as the enviroment in which it resides slowly changes. These problems were inherited and expanded as soon as researchers started using computational methods and writing analysis scripts.</p>
<p>Controlling the environment, from the OS to the software versions and libraries, are fundamental to be able to recreate the results of a given study. It could be easy to recreate the results days just after the initial analysis was done, recreating it months or even years after the analysis happened may be more complicated, for example due to software rotting. R versions, versions of R packages, and Bioconductor packages change very often. Just in 2022 four different versions of R and two Bioconductor versions were released as well as five versions of the Ubuntu operating system.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="docker" class="slide level2">
<h2>Docker</h2>

<img data-src="images/docker-img-1.png" class="r-stretch"><div style="margin-left:auto; margin-right:0;float: right; font-size:1.5rem">
<p>From: https://accesto.com/blog/when-to-use-and-when-not-to-use-docker/</p>
</div>
<aside class="notes">
<p>A Docker container is a piece of software that can pack the full environment, in our case OS, system libraries, R, R libraries, Bioconductor libraries, etc. Allowing us to recreate the full set of results in any machine and in any time in the future, even if R, or any of the libraries used, would no longer be available or become obsolete.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="reducing-the-user-analyst-loop" class="slide level2">
<h2>Reducing the user-analyst loop</h2>

<img data-src="images/403-4036373_shiny-shiny-r-logo-png-transparent-png.png" class="r-stretch"><aside class="notes">
<p>Finally, in this work an interactive tool using R/Shiny was created to reduce the loop between the data analysts and the final consumers of the results. It is commonly the case that the same person is not in charge of analyzing data and making decisions on the results of the analysis. Sometimes this creates a loop between the data analyst and the decision maker until the correct set of results required by the decision maker is achieved and a decision can be made. A way of improving this situation is empowering the decision maker to modify some of the settings in the final analysis, without the intervention of the data-analyst, through interactive applications.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<!-- ## Methodology & materials -->
<!-- - maUEB (Ferrer Almirall and Camacho Cano 2022) -->
<!-- - targets (Landau 2021) -->
<!-- - Docker (Merkel 2014) -->
<!-- - R/Shiny (Chang et al. 2022) -->
</section></section>
<section>
<section id="results" class="title-slide slide level1 center">
<h1>Results</h1>
<ul>
<li><p>Targets microarray Analysis pipeline</p></li>
<li><p>Containerizing in a Docker</p></li>
<li><p>An interactive application for data exploration using R/Shiny</p></li>
</ul>
<aside class="notes">
<p>Once the context of the work is established in this following section we will present the results for the three outputs of this work.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="targets-microarray-analysis-pipeline-steps" class="slide level2">
<h2><span style="font-size:3rem;">Targets microarray analysis pipeline: Steps</span></h2>
<div class="columns" style="font-size:1.25rem">
<div class="column" style="width:45%;">
<ol type="1">
<li><strong>Data loading</strong></li>
<li><strong>Quality control</strong>
<ol type="1">
<li>Raw expression data
<ol type="1">
<li>Create a boxplot figure</li>
<li>Perform a Principal Component Analysis (PCA)</li>
<li>Evaluate sample distance</li>
<li>Create an arrayQualityMetrics package reported</li>
</ol></li>
<li>Data normalization</li>
<li>Annotate normalized data</li>
<li>Same quality control steps fornormalized data</li>
<li>Artifactual or outlier removal</li>
<li>Plot standard deviations of the probesets</li>
<li>Remove, duplicated or low-variance probesets</li>
<li>Annotate filtered data</li>
</ol></li>
</ol>
</div><div class="column" style="width:45%;">
<ol start="3" type="1">
<li><strong>Differential Expression Analysis (DEA)</strong>
<ol type="1">
<li>Create a design matrix for the analysis</li>
<li>Fit the linear model to the data</li>
<li>Calculate the relevant contrasts for the model</li>
<li>Gather results of the linear model comparisons:
<ol type="1">
<li>tables with the results of the contrasts</li>
<li>Create a summary table for each contrasts</li>
<li>Create a volcano plot of the contrasts</li>
<li>Create a Venn diagram of the contrasts</li>
<li>Create a heatmap figure of the results</li>
</ol></li>
</ol></li>
<li><strong>Gene Set Enrichment and Over-representation analysis</strong></li>
<li><strong>Rmarkdown report</strong></li>
</ol>
</div>
</div>
<ul>
<li><code>maUEB</code> (Ferrer Almirall and Camacho Cano 2022)</li>
</ul>
<aside class="notes">
<p>The first output of this work was a microarray analysis pipeline programmed using the maUEB package with the following sections (READ STEPS) each composed by several steps. As the main focus of this work was the implementation inside targets and not the pipeline itself, the exact contents of the analysis pipeline will not be discussed and we will focus on the advantages of using targets and of the particular implementation done in this work.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="targets-microarray-analysis-pipeline-advantages" class="slide level2">
<h2><span style="font-size:3rem;">Targets microarray analysis pipeline: Advantages</span></h2>
<ul>
<li><p>Step behavior is defined by a list of parameters</p></li>
<li><p>Each section has an specific list of parameters</p></li>
<li><p>All parameters are packed in a single section of the pipeline</p></li>
<li><p>User can focus exclusively on the parameter lists instead of modyfing the pipeline itself</p></li>
</ul>
<aside class="notes">
<p>This worked tried to favour the usability therefore an special effort was done to minimize the number of changes needed to modify the pipeline, and to concentrate all changes in a single section of the pipeline, preventing the user from having to navigate the whole script when making a change. For this a list of parameters was defined for each the sections of the pipeline that defined the behavior and outputs for the steps in each section. Additionally if a given step shared the same set of parameters, parameters could be easily reused between steps, minimizing the possiblity of mistakenly modifying the parameters in one step and not in another.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="targets-microarray-analysis-pipeline-advantages-1" class="slide level2">
<h2><span style="font-size:3rem;">Targets microarray analysis pipeline: Advantages</span></h2>
<ul>
<li>Code is based on small multiples</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>  <span class="fu">tar_target</span>(</span>
<span id="cb1-2"><a href="#cb1-2"></a>    <span class="at">name =</span> qc_raw_boxplot_file,</span>
<span id="cb1-3"><a href="#cb1-3"></a>  <span class="at">command =</span> <span class="fu">do.call</span>(</span>
<span id="cb1-4"><a href="#cb1-4"></a>    <span class="at">what =</span> maUEB<span class="sc">::</span>qc_boxplot <span class="sc">%&gt;%</span> <span class="fu">as_list_of_files</span>(<span class="st">"outputDir"</span>),</span>
<span id="cb1-5"><a href="#cb1-5"></a>      <span class="at">args =</span> purrr<span class="sc">::</span><span class="fu">list_modify</span>(</span>
<span id="cb1-6"><a href="#cb1-6"></a>        <span class="sc">!!</span>qcl_par<span class="sc">$</span>raw<span class="sc">$</span>boxplot,</span>
<span id="cb1-7"><a href="#cb1-7"></a>      <span class="at">data =</span> eset_raw</span>
<span id="cb1-8"><a href="#cb1-8"></a>      )</span>
<span id="cb1-9"><a href="#cb1-9"></a>      ),</span>
<span id="cb1-10"><a href="#cb1-10"></a>    <span class="at">format =</span> <span class="st">"file"</span></span>
<span id="cb1-11"><a href="#cb1-11"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Avoids forcing the user to navigate code to change the pipeline behavior</li>
</ul>
<aside class="notes">
<p>When implementing the pipeline we used a small multiple approach meaning all the targets were defined following the same pattern. A maUEB function was invoked, the predefined list of parameters and the input from previous steps was passed always the same way. This helps including or removing steps from the pipeline in a consistent way and, as mentioned before, makes all changes in the pipeline local to the parameter lists and avoids changes all along the pipeline.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="targets-microarray-analysis-pipeline-a-use-case" class="slide level2">
<h2><span style="font-size:3rem;">Targets microarray analysis pipeline: A use case</span></h2>
<ul>
<li><span style="font-size:2rem;">“A user finds an outlier sample that wants to exclude from the analysis”</span></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Before</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>outlier_samples <span class="ot">&lt;-</span> <span class="st">"CMP.2"</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co"># After</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>outlier_samples <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"CMP.2"</span>, <span class="st">"PD1.1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/DAG.png"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="images/DAG_out.png"></p>
</div>
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">tar_make</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>To make the example more concrete, a hypothetical modification in the pipeline is presented. Lets imagine that after the reviewing the quality control data an anomalous sample is detected. The only change needed is adding a new sample in the parameters for the quality control section, as shown in the code block. After the change all outputs affected by the modification are automatically outdated (dark green outputs become light blue). When the whole pipelines is rerun using targets::tar_make() only the outdated targets will be recalculated, while all other targets will be skipped. A workflow manager not provided with this dependency tracking would force the user to decide which outputs were affected by this change and rerun them. A much error-prone approach.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="containerizing-in-a-docker" class="slide level2">
<h2>Containerizing in a Docker</h2>
<ul>
<li><p>Based on Rocker (Boettiger and Eddelbuettel 2017)</p></li>
<li><p>Convenience scripts are provided</p></li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1"></a><span class="ex">docker</span> run <span class="at">--name</span> target_trial <span class="at">-v</span> <span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span>/:/workspace <span class="at">-w</span> /workspace</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="ex">--rm</span> uoc:final Rscript <span class="at">-e</span> <span class="st">"targets_::tar_make()"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>A docker image able to run the whole pipeline was created. This image was based on an image provided by the rocker project that provides Docker images with R installations in different flavors (Boettiger and Eddelbuettel 2017). A convenience script is provided to run the whole targets pipeline inside the Docker image.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="an-interactive-application-for-data-exploration-using-rshiny" class="slide level2" style="font-size:1.5rem;">
<h2>An interactive application for data exploration using R/Shiny</h2>

<img data-src="images/shiny.png" class="r-stretch"><ul>
<li>Created using Shiny modules</li>
</ul>
<aside class="notes">
<p>Demo app</p>
<ol type="1">
<li><p>un/adjusted p-value</p></li>
<li><p>log Fold Change limits</p></li>
<li><p>CSV download</p></li>
<li><p>Volcano plot</p></li>
<li><p>Info box</p></li>
<li><p>Upset chart</p></li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="final-remarks" class="title-slide slide level1 center">
<h1>Final remarks</h1>
<aside class="notes">
<p>Now a quick summary of the achievements of the work are presented</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="a-targets-containerized-microarray-pipeline" class="slide level2">
<h2>A targets containerized microarray pipeline</h2>
<ul>
<li><p>Users can concentrate on a smaller portion of the script for their changes</p></li>
<li><p>Target declaration complexity was minimized by using small multiples</p></li>
<li><p>Easily reproducible and automatic tracking of dependencies</p></li>
</ul>
<aside class="notes">
<p>The targets containerized microarray pipeline allows users to concentrate their changes on a single place.</p>
<p>The target declaration was simplified by declaring them in a consistent way using small multiples</p>
<p>Tracking dependency improves the reproducibility of the pipeline and minimizes errors</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="containerizing-in-a-docker-1" class="slide level2">
<h2>Containerizing in a Docker</h2>
<ul>
<li><p>Easily generalized to other pipelines</p></li>
<li><p>Easy to archive and use in the future</p></li>
<li><p>Helpful solving the reproducibility problem</p></li>
</ul>
<aside class="notes">
<p>The docker image could be easily adapted to other pipelines</p>
<p>It is easy to archive, for example in docker hub, or internal repositories to reuse and to improve the reproducibility of the results</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="an-interactive-application-for-data-exploration-using-rshiny-1" class="slide level2">
<h2>An interactive application for data exploration using R/Shiny</h2>
<ul>
<li><p>Simple but effective in reducing the data-analyst vs data-decision-makers loops</p></li>
<li><p>Easy to modify and recompose thanks to modular approach</p></li>
</ul>
<aside class="notes">
<p>Although simple, the app it may be effective in reducing the data analyst decision maker loop. As it is programmed using Shiny modules the app components can be reused in a an improved app once more functionality required by users is detected.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="future-lines-of-work" class="title-slide slide level1 center">
<h1>Future lines of work</h1>
<aside class="notes">
<p>Finally we present several improvements to the current work.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="a-targets-containerized-microarray-pipeline-1" class="slide level2">
<h2>A targets containerized microarray pipeline</h2>
<ul>
<li><p>A more extensive manual on the pipeline could be written</p></li>
<li><p>Additional versions of this pipeline could be written for other analyses</p></li>
<li><p>Another strategies for creating the parameters list could be explored, separate files, configuration files</p></li>
</ul>
</section>
<section id="containerizing-in-a-docker-2" class="slide level2">
<h2>Containerizing in a Docker</h2>
<ul>
<li><p>Data analysis scripts and data itself could be included in the Docker image for improved reproducibility</p></li>
<li><p>Docker image could be uploaded to a Docker image repository for direct use by researchers</p></li>
</ul>
</section>
<section id="an-interactive-application-for-data-exploration-using-rshiny-2" class="slide level2">
<h2>An interactive application for data exploration using R/Shiny</h2>
<ul>
<li><p>Run refinement sessions with users to prioritize new functionalities</p></li>
<li><p>Add more interactive graphs to the Shiny applications</p></li>
<li><p>Include the interactive graphs inside an Rmarkdown report instead of a Shiny application</p></li>
<li><p>Explore alternatives to Shiny</p>
<ul>
<li>Javascript</li>
</ul></li>
</ul>
<aside class="notes">
<ul>
<li><p>Download only genes that are significant in several comparisons</p></li>
<li><p>Provide more links to external databases with information about the genes</p></li>
</ul>
<p>javascript widgets that could be seen without the need of a Shiny runtime environment and an R installation and stored and shared as standalone files</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section id="the-end" class="title-slide slide level1 center">
<h1>The end</h1>
<p><strong>Thanks for your time and attention</strong></p>

<img src="images/800px-Logo_blau_uoc.png" class="slide-logo r-stretch"><div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="lmf_pres_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="lmf_pres_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="lmf_pres_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="lmf_pres_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="lmf_pres_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="lmf_pres_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="lmf_pres_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="lmf_pres_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="lmf_pres_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="lmf_pres_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="lmf_pres_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":false},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>